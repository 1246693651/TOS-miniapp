{"version":3,"sources":["webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/main.js","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue?4350","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue?16fe","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue?6085","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue?9119","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue?6d04","webpack:////Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue?e65b"],"names":["createPage","Page","data","res","err","nickName","avatarUrl","isCanUse","methods","wxGetUserInfo","_this","uni","getUserInfo","provider","success","infoRes","console","log","userInfo","setStorageSync","updateUserInfo","e","fail","login","showLoading","title","loginRes","code","Api","then","token","hideLoading","catch","showToast","upadteUserInfo","reLaunch","url","onLoad"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7de54eea&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/pany/Desktop/毕业设计/TOS-miniapp/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7de54eea&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Api from '../../api/config';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tres: '',\n\t\t\terr: '',\n\t\t\tnickName: null,\n\t\t\tavatarUrl: null,\n\t\t\tisCanUse: false //默认为true\n\t\t};\n\t},\n\tmethods: {\n\t\t//第一授权获取用户信息===》按钮触发\n\t\twxGetUserInfo() {\n\t\t\tlet _this = this;\n\t\t\tuni.getUserInfo({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(infoRes) {\n\t\t\t\t\tconsole.log(infoRes);\n\t\t\t\t\tlet nickName = infoRes.userInfo.nickName; //昵称\n\t\t\t\t\tlet avatarUrl = infoRes.userInfo.avatarUrl; //头像\n\t\t\t\t\t_this.nickName = nickName;\n\t\t\t\t\t_this.avatarUrl = avatarUrl;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tuni.setStorageSync('isCanUse', true); //记录是否第一次授权  false:表示不是第一次授权\n\t\t\t\t\t\t_this.isCanUse=true;\n\t\t\t\t\t\t_this.updateUserInfo();\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//登录\n\t\tlogin() {\n\t\t\tlet _this = this;\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '登录中...'\n\t\t\t});\n\n\t\t\t// 1.wx获取登录用户code\n\t\t\tuni.login({\n\t\t\t\tprovider: 'weixin',\n\t\t\t\tsuccess: function(loginRes) {\n\t\t\t\t\tlet code = loginRes.code;\n\t\t\t\t\t//通过code换取token\n\t\t\t\t\tApi.login(code).then(res=>{\n\t\t\t\t\t\t//获取token\n\t\t\t\t\t\tlet token =  res.data.token;\n\t\t\t\t\t\t//token存储//隐藏loading\n\t\t\t\t\t\tuni.setStorageSync(\"token\",token);\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}).catch(err=>{\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:'登录失败'\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t//向后台更新信息\n\t\tupdateUserInfo() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle:'更新用户信息中'\n\t\t\t})\n\t\t\tApi.upadteUserInfo(this.nickName,this.avatarUrl).then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tuni.hideLoading();\n\t\t\t\tuni.reLaunch({ //信息更新成功后跳转到小程序首页\n\t\t\t\t\turl: '/pages/home/home'\n\t\t\t\t});\n\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err);\n\t\t\t\tuni.hideLoading();\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:'更新用户数据失败'\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},\n\tonLoad() { //默认加载\n\t\tthis.login();\n\t\t//this.getUserInfo();\n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589005809649\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}